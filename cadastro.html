<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro - Tribo do Cerrado</title>
    
    <!-- CSS do novo padrão de botão -->
    <link rel="stylesheet" href="metal-button.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Orbitron', monospace;
            background: #000000;
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            padding: 20px 0;
        }
        
        /* Container principal */
        .container-principal {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        /* Imagem de fundo centralizada - MESMO ESTILO */
        .fundo-imagem {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 90%;
            max-height: 70%;
            width: auto;
            height: auto;
            z-index: 1;
            opacity: 0.15;
        }
        
        /* Container do formulário */
        .container {
            position: relative;
            z-index: 2;
            background: rgba(0, 0, 0, 0.9);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.7);
            max-width: 800px;
            width: 95%;
            margin: 20px 0;
        }
        
        .titulo-cadastro {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 900;
            margin-bottom: 30px;
            text-align: center;
            
            /* Dourado mais claro e forte */
            background: linear-gradient(45deg, 
                #DAA520 0%,
                #FFD700 15%,
                #FFFF00 30%,
                #FFFACD 45%,
                #FFFFFF 60%,
                #FFFACD 75%,
                #FFD700 90%,
                #F0E68C 100%
            );
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            
            text-shadow: 
                2px 2px 0px #B8860B,
                4px 4px 0px #8B7355,
                6px 6px 10px rgba(184, 134, 11, 0.6);
            
            filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.5));
        }
        
        /* Grid de campos */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        /* NOVA COR PARA LABELS - Branco forte e legível */
        .form-label {
            display: block;
            color: #FFFFFF; /* Branco puro em vez de laranja */
            font-weight: 900; /* Negrito forte */
            margin-bottom: 8px;
            font-size: 1.1rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            letter-spacing: 0.5px;
        }
        
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #444;
            border-radius: 10px;
            background: rgba(45, 45, 45, 0.9);
            color: #ffffff;
            font-size: 1rem;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #FFD700; /* Dourado em vez de laranja */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
            background: rgba(45, 45, 45, 1);
        }
        
        .form-input::placeholder, .form-textarea::placeholder {
            color: #aaa;
            font-weight: 400;
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        /* Checkbox personalizado */
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .checkbox-group label {
            color: #FFFFFF !important; /* Branco forte */
            font-weight: 700 !important;
            cursor: pointer;
        }
        
        .checkbox-custom {
            width: 20px;
            height: 20px;
            border: 2px solid #FFD700;
            border-radius: 4px;
            background: transparent;
            cursor: pointer;
            position: relative;
        }
        
        .checkbox-custom input {
            opacity: 0;
            position: absolute;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        
        .checkbox-custom input:checked + .checkmark {
            background: #FFD700;
        }
        
        .checkmark {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 2px;
        }
        
        /* Container para campo de senha com botão mostrar/ocultar */
        .password-container {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .password-container .form-input {
            padding-right: 50px; /* Espaço para o botão */
        }
        
        .toggle-password {
            position: absolute;
            right: 15px;
            background: none;
            border: none;
            color: #FFD700;
            cursor: pointer;
            font-size: 1.2rem;
            padding: 5px;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .toggle-password:hover {
            color: #FFFFFF;
            transform: scale(1.1);
        }   transition: all 0.3s ease;
        }
        
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
            left: 6px;
            top: 2px;
            width: 5px;
            height: 10px;
            border: solid #000;
            border-width: 0 3px 3px 0;
            transform: rotate(45deg);
        }
        
        .checkbox-custom input:checked + .checkmark:after {
            display: block;
        }
        
        /* Botões metalizados */
        .btn-cadastrar {
            width: 100%;
            padding: 18px;
            font-size: 1.3rem;
            font-weight: 900;
            color: #333333;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-family: 'Orbitron', monospace;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            
            /* Base metalizada dourada */
            background: linear-gradient(145deg, 
                #DAA520 0%,
                #FFD700 15%,
                #FFFF00 30%,
                #FFFACD 45%,
                #FFFFFF 60%,
                #FFFACD 75%,
                #FFD700 90%,
                #F0E68C 100%
            );
            
            /* Efeito 3D metalizado */
            box-shadow: 
                0 10px 25px rgba(218, 165, 32, 0.4),
                inset 0 2px 0 rgba(255, 255, 255, 0.7),
                inset 0 -2px 0 rgba(139, 69, 19, 0.3),
                inset 2px 0 0 rgba(255, 255, 255, 0.5),
                inset -2px 0 0 rgba(139, 69, 19, 0.2);
            
            transform: perspective(400px) rotateX(8deg) translateZ(5px);
            text-shadow: 1px 1px 0px rgba(139, 69, 19, 0.8);
        }
        
        .btn-cadastrar:hover {
            transform: perspective(400px) rotateX(8deg) translateZ(3px) translateY(-1px);
            box-shadow: 
                0 12px 30px rgba(218, 165, 32, 0.6),
                inset 0 3px 0 rgba(255, 255, 255, 0.8),
                inset 0 -3px 0 rgba(139, 69, 19, 0.4),
                inset 3px 0 0 rgba(255, 255, 255, 0.6),
                inset -3px 0 0 rgba(139, 69, 19, 0.3);
            
            filter: brightness(1.1);
        }
        
        .btn-cadastrar:active {
            transform: perspective(400px) rotateX(8deg) translateZ(1px) translateY(1px);
            box-shadow: 
                0 5px 15px rgba(218, 165, 32, 0.8),
                inset 0 1px 0 rgba(139, 69, 19, 0.2),
                inset 0 -1px 0 rgba(255, 255, 255, 0.5);
        }
        
        /* Botão Voltar metalizado */
        .btn-voltar {
            width: 100%;
            padding: 15px;
            background: linear-gradient(145deg, #757575, #424242);
            color: #ffffff;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 700;
            text-align: center;
            display: block;
            transition: all 0.3s ease;
            
            box-shadow: 
                0 5px 15px rgba(117, 117, 117, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 -1px 0 rgba(0, 0, 0, 0.2);
            
            transform: perspective(400px) rotateX(5deg) translateZ(3px);
        }
        
        .btn-voltar:hover {
            transform: perspective(400px) rotateX(5deg) translateZ(1px) translateY(-2px);
            box-shadow: 0 8px 20px rgba(117, 117, 117, 0.5);
        }
        
        /* Mensagem de feedback */
        .mensagem {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
            display: none;
        }
        
        .mensagem.erro {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid #f44336;
            color: #ff6b6b;
        }
        
        .mensagem.sucesso {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid #4caf50;
            color: #81c784;
        }
        
        /* Validação visual */
        .form-input.valido {
            border-color: #4caf50;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.3);
        }
        
        .form-input.invalido {
            border-color: #f44336;
            box-shadow: 0 0 10px rgba(244, 67, 54, 0.3);
        }
        
        /* Links */
        a {
            color: #FFD700 !important; /* Dourado em vez de laranja */
            font-weight: 700;
        }
        
        a:hover {
            color: #FFFF00 !important;
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .fundo-imagem {
                max-width: 95%;
                max-height: 60%;
            }
            
            .container {
                padding: 30px 20px;
                margin: 10px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .fundo-imagem {
                max-width: 98%;
                max-height: 50%;
            }
            
            .container {
                padding: 25px 15px;
            }
            
            .titulo-cadastro {
                font-size: 2rem;
            }
            
            .form-input, .form-select, .form-textarea {
                padding: 10px 12px;
            }
            
            .btn-cadastrar {
                padding: 15px;
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container-principal">
        <!-- Imagem de fundo centralizada - MESMO ESTILO -->
        <img src="FundoSIte.png" alt="Fundo Tribo do Cerrado" class="fundo-imagem">
        
        <!-- Container do formulário -->
        <div class="container">
            <h1 class="titulo-cadastro">CADASTRO</h1>
            
            <div id="mensagem" class="mensagem"></div>
            
            <form id="formCadastro" onsubmit="return salvarCadastro(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="nome" class="form-label">👤 Nome Completo:</label>
                        <input 
                            type="text" 
                            id="nome" 
                            name="nome" 
                            class="form-input" 
                            placeholder="Seu nome completo"
                            required
                            pattern="[A-Za-zÀ-ÿ\s]{2,50}"
                            title="Nome deve conter apenas letras e espaços (2-50 caracteres)"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="apelido" class="form-label">🏷️ Apelido/Alcunha:</label>
                        <input 
                            type="text" 
                            id="apelido" 
                            name="apelido" 
                            class="form-input" 
                            placeholder="Como quer ser chamado (ex: Digão)"
                            required
                            pattern="[A-Za-zÀ-ÿ0-9\s]{2,20}"
                            title="Apelido pode conter letras, números e espaços (2-20 caracteres)"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="email" class="form-label">📧 Email:</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            class="form-input" 
                            placeholder="seu@email.com"
                            required
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="telefone" class="form-label">📱 Telefone:</label>
                        <input 
                            type="tel" 
                            id="telefone" 
                            name="telefone" 
                            class="form-input" 
                            placeholder="(62) 99999-9999"
                            required
                            pattern="\(\d{2}\)\s\d{4,5}-\d{4}"
                            title="Formato: (XX) XXXXX-XXXX"
                        >
                    </div>
                    
                    <div class="form-group">
                        <label for="senha" class="form-label">🔒 Senha:</label>
                        <div class="password-container">
                            <input 
                                type="password" 
                                id="senha" 
                                name="senha" 
                                class="form-input" 
                                placeholder="Mínimo 6 caracteres"
                                required
                                minlength="6"
                            >
                            <button type="button" class="toggle-password" onclick="togglePassword('senha')">
                                👁️
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="confirmarSenha" class="form-label">🔒 Confirmar Senha:</label>
                        <div class="password-container">
                            <input 
                                type="password" 
                                id="confirmarSenha" 
                                name="confirmarSenha" 
                                class="form-input" 
                                placeholder="Repita a senha"
                                required
                                minlength="6"
                            >
                            <button type="button" class="toggle-password" onclick="togglePassword('confirmarSenha')">
                                👁️
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="estado" class="form-label">🗺️ Estado:</label>
                        <select id="estado" name="estado" class="form-select" required onchange="carregarCidades()">
                            <option value="">Selecione o estado...</option>
                            <option value="AC">Acre</option>
                            <option value="AL">Alagoas</option>
                            <option value="AP">Amapá</option>
                            <option value="AM">Amazonas</option>
                            <option value="BA">Bahia</option>
                            <option value="CE">Ceará</option>
                            <option value="DF">Distrito Federal</option>
                            <option value="ES">Espírito Santo</option>
                            <option value="GO">Goiás</option>
                            <option value="MA">Maranhão</option>
                            <option value="MT">Mato Grosso</option>
                            <option value="MS">Mato Grosso do Sul</option>
                            <option value="MG">Minas Gerais</option>
                            <option value="PA">Pará</option>
                            <option value="PB">Paraíba</option>
                            <option value="PR">Paraná</option>
                            <option value="PE">Pernambuco</option>
                            <option value="PI">Piauí</option>
                            <option value="RJ">Rio de Janeiro</option>
                            <option value="RN">Rio Grande do Norte</option>
                            <option value="RS">Rio Grande do Sul</option>
                            <option value="RO">Rondônia</option>
                            <option value="RR">Roraima</option>
                            <option value="SC">Santa Catarina</option>
                            <option value="SP">São Paulo</option>
                            <option value="SE">Sergipe</option>
                            <option value="TO">Tocantins</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="cidade" class="form-label">🏙️ Cidade:</label>
                        <select id="cidade" name="cidade" class="form-select" required disabled>
                            <option value="">Primeiro selecione o estado</option>
                        </select>
                    </div>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="motocicleta" class="form-label">🏍️ Motocicleta (Marca/Modelo/Ano):</label>
                        <input 
                            type="text" 
                            id="motocicleta" 
                            name="motocicleta" 
                            class="form-input" 
                            placeholder="Ex: Honda CB 600F 2020"
                            required
                        >
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="experiencia" class="form-label">🛣️ Experiência com Motociclismo:</label>
                        <select id="experiencia" name="experiencia" class="form-select" required>
                            <option value="">Selecione...</option>
                            <option value="iniciante">Iniciante (menos de 1 ano)</option>
                            <option value="intermediario">Intermediário (1-5 anos)</option>
                            <option value="avancado">Avançado (5-10 anos)</option>
                            <option value="expert">Expert (mais de 10 anos)</option>
                        </select>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="motivacao" class="form-label">💭 Por que quer fazer parte da Tribo do Cerrado?</label>
                        <textarea 
                            id="motivacao" 
                            name="motivacao" 
                            class="form-textarea" 
                            placeholder="Conte-nos sua motivação para se juntar ao nosso motoclube..."
                            required
                            minlength="20"
                        ></textarea>
                    </div>
                </div>
                
                <div class="checkbox-group">
                    <label class="checkbox-custom">
                        <input type="checkbox" id="newsletter" name="newsletter">
                        <span class="checkmark"></span>
                    </label>
                    <label for="newsletter">
                        📧 Quero receber newsletter com eventos e novidades
                    </label>
                </div>
                
                <div class="checkbox-group">
                    <label class="checkbox-custom">
                        <input type="checkbox" id="termos" name="termos" required>
                        <span class="checkmark"></span>
                    </label>
                    <label for="termos">
                        ✅ Aceito os <a href="#">termos de uso</a> e <a href="#">política de privacidade</a>
                    </label>
                </div>
                
                <!-- Botão CADASTRAR com novo padrão metalizado -->
                <button type="submit" class="metal-button primary full-width large">
                    💾 SALVAR CADASTRO
                </button>
            </form>
            
            <!-- Botão VOLTAR com novo padrão metalizado -->
            <a href="acesso.html" class="metal-button secondary full-width">
                ⬅️ VOLTAR
            </a>
        </div>
    </div>
    
    <script>
        // Configurar encoding UTF-8 correto
        document.charset = 'UTF-8';
        
        // Função para mostrar/ocultar senha
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const button = input.nextElementSibling;
            
            if (input.type === 'password') {
                input.type = 'text';
                button.textContent = '🙈'; // Ícone para ocultar
            } else {
                input.type = 'password';
                button.textContent = '👁️'; // Ícone para mostrar
            }
        }
        
        // Base de dados de cidades por estado
        const cidadesPorEstado = {
            'AC': ['Rio Branco', 'Cruzeiro do Sul', 'Sena Madureira', 'Tarauacá', 'Feijó'],
            'AL': ['Maceió', 'Arapiraca', 'Palmeira dos Índios', 'Rio Largo', 'Penedo'],
            'AP': ['Macapá', 'Santana', 'Laranjal do Jari', 'Oiapoque', 'Mazagão'],
            'AM': ['Manaus', 'Parintins', 'Itacoatiara', 'Manacapuru', 'Coari'],
            'BA': ['Salvador', 'Feira de Santana', 'Vitória da Conquista', 'Camaçari', 'Itabuna', 'Juazeiro', 'Lauro de Freitas', 'Ilhéus', 'Jequié', 'Teixeira de Freitas'],
            'CE': ['Fortaleza', 'Caucaia', 'Juazeiro do Norte', 'Maracanaú', 'Sobral', 'Crato', 'Itapipoca', 'Maranguape', 'Iguatu', 'Quixadá'],
            'DF': ['Brasília', 'Gama', 'Taguatinga', 'Ceilândia', 'Sobradinho', 'Planaltina', 'Paranoá', 'Núcleo Bandeirante', 'Riacho Fundo', 'Samambaia'],
            'ES': ['Vitória', 'Vila Velha', 'Serra', 'Cariacica', 'Viana', 'Linhares', 'Colatina', 'Guarapari', 'Cachoeiro de Itapemirim', 'São Mateus'],
            'GO': ['Goiânia', 'Aparecida de Goiânia', 'Anápolis', 'Rio Verde', 'Luziânia', 'Águas Lindas de Goiás', 'Valparaíso de Goiás', 'Trindade', 'Formosa', 'Novo Gama', 'Itumbiara', 'Senador Canedo', 'Catalão', 'Jataí', 'Planaltina', 'Caldas Novas', 'Santo Antônio do Descoberto', 'Goianésia', 'Cidade Ocidental', 'Mineiros'],
            'MA': ['São Luís', 'Imperatriz', 'São José de Ribamar', 'Timon', 'Caxias', 'Codó', 'Paço do Lumiar', 'Açailândia', 'Bacabal', 'Balsas'],
            'MT': ['Cuiabá', 'Várzea Grande', 'Rondonópolis', 'Sinop', 'Tangará da Serra', 'Cáceres', 'Sorriso', 'Lucas do Rio Verde', 'Barra do Garças', 'Primavera do Leste'],
            'MS': ['Campo Grande', 'Dourados', 'Três Lagoas', 'Corumbá', 'Ponta Porã', 'Naviraí', 'Nova Andradina', 'Sidrolândia', 'Maracaju', 'São Gabriel do Oeste'],
            'MG': ['Belo Horizonte', 'Uberlândia', 'Contagem', 'Juiz de Fora', 'Betim', 'Montes Claros', 'Ribeirão das Neves', 'Uberaba', 'Governador Valadares', 'Ipatinga', 'Sete Lagoas', 'Divinópolis', 'Santa Luzia', 'Ibirité', 'Poços de Caldas', 'Patos de Minas', 'Pouso Alegre', 'Teófilo Otoni', 'Barbacena', 'Sabará'],
            'PA': ['Belém', 'Ananindeua', 'Santarém', 'Marabá', 'Parauapebas', 'Castanhal', 'Abaetetuba', 'Cametá', 'Marituba', 'Altamira'],
            'PB': ['João Pessoa', 'Campina Grande', 'Santa Rita', 'Patos', 'Bayeux', 'Sousa', 'Cajazeiras', 'Cabedelo', 'Guarabira', 'Mamanguape'],
            'PR': ['Curitiba', 'Londrina', 'Maringá', 'Ponta Grossa', 'Cascavel', 'São José dos Pinhais', 'Foz do Iguaçu', 'Colombo', 'Guarapuava', 'Paranaguá'],
            'PE': ['Recife', 'Jaboatão dos Guararapes', 'Olinda', 'Bandeira', 'Caruaru', 'Petrolina', 'Paulista', 'Cabo de Santo Agostinho', 'Camaragibe', 'Garanhuns'],
            'PI': ['Teresina', 'Parnaíba', 'Picos', 'Piripiri', 'Floriano', 'Campo Maior', 'Barras', 'Altos', 'Oeiras', 'Pedro II'],
            'RJ': ['Rio de Janeiro', 'São Gonçalo', 'Duque de Caxias', 'Nova Iguaçu', 'Niterói', 'Campos dos Goytacazes', 'Belford Roxo', 'São João de Meriti', 'Petrópolis', 'Volta Redonda'],
            'RN': ['Natal', 'Mossoró', 'Parnamirim', 'São Gonçalo do Amarante', 'Macaíba', 'Ceará-Mirim', 'Caicó', 'Assu', 'Currais Novos', 'Nova Cruz'],
            'RS': ['Porto Alegre', 'Caxias do Sul', 'Pelotas', 'Canoas', 'Santa Maria', 'Gravataí', 'Viamão', 'Novo Hamburgo', 'São Leopoldo', 'Rio Grande'],
            'RO': ['Porto Velho', 'Ji-Paraná', 'Ariquemes', 'Vilhena', 'Cacoal', 'Rolim de Moura', 'Guajará-Mirim', 'Jaru', 'Ouro Preto do Oeste', 'Buritis'],
            'RR': ['Boa Vista', 'Rorainópolis', 'Caracaraí', 'Alto Alegre', 'Mucajaí', 'Iracema', 'São João da Baliza', 'São Luiz', 'Caroebe', 'Bonfim'],
            'SC': ['Florianópolis', 'Joinville', 'Blumenau', 'São José', 'Criciúma', 'Chapecó', 'Itajaí', 'Lages', 'Palhoça', 'Balneário Camboriú'],
            'SP': ['São Paulo', 'Guarulhos', 'Campinas', 'São Bernardo do Campo', 'Santo André', 'Osasco', 'Ribeirão Preto', 'Sorocaba', 'Santos', 'Mauá', 'São José dos Campos', 'Mogi das Cruzes', 'Diadema', 'Jundiaí', 'Carapicuíba', 'Piracicaba', 'Bauru', 'São Vicente', 'Franca', 'Guarujá'],
            'SE': ['Aracaju', 'Nossa Senhora do Socorro', 'Lagarto', 'Itabaiana', 'São Cristóvão', 'Estância', 'Tobias Barreto', 'Simão Dias', 'Propriá', 'Canindé de São Francisco'],
            'TO': ['Palmas', 'Araguaína', 'Gurupi', 'Porto Nacional', 'Paraíso do Tocantins', 'Colinas do Tocantins', 'Guaraí', 'Tocantinópolis', 'Miracema do Tocantins', 'Araguatins']
        };
        
        // Função para carregar cidades baseado no estado selecionado
        function carregarCidades() {
            const estadoSelect = document.getElementById('estado');
            const cidadeSelect = document.getElementById('cidade');
            const estadoSelecionado = estadoSelect.value;
            
            // Limpar opções de cidade
            cidadeSelect.innerHTML = '';
            
            if (estadoSelecionado === '') {
                cidadeSelect.disabled = true;
                cidadeSelect.innerHTML = '<option value="">Primeiro selecione o estado</option>';
                return;
            }
            
            // Habilitar select de cidade
            cidadeSelect.disabled = false;
            cidadeSelect.innerHTML = '<option value="">Selecione a cidade...</option>';
            
            // Carregar cidades do estado selecionado
            const cidades = cidadesPorEstado[estadoSelecionado] || [];
            
            cidades.forEach(cidade => {
                const option = document.createElement('option');
                option.value = cidade;
                option.textContent = cidade;
                cidadeSelect.appendChild(option);
            });
            
            // Adicionar opção "Outra" no final
            const optionOutra = document.createElement('option');
            optionOutra.value = 'OUTRA';
            optionOutra.textContent = 'Outra cidade';
            cidadeSelect.appendChild(optionOutra);
        }
        
        // Máscara para telefone
        document.getElementById('telefone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 11) {
                value = value.replace(/(\d{2})(\d{4,5})(\d{4})/, '($1) $2-$3');
                e.target.value = value;
            }
        });
        
        // Validação em tempo real
        document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(input => {
            input.addEventListener('blur', function() {
                validarCampo(this);
            });
        });
        
        // Validação de confirmação de senha
        document.getElementById('confirmarSenha').addEventListener('input', function() {
            const senha = document.getElementById('senha').value;
            const confirmarSenha = this.value;
            
            if (confirmarSenha && senha !== confirmarSenha) {
                this.classList.add('invalido');
                this.classList.remove('valido');
            } else if (confirmarSenha) {
                this.classList.add('valido');
                this.classList.remove('invalido');
            }
        });
        
        function validarCampo(campo) {
            if (campo.checkValidity()) {
                campo.classList.add('valido');
                campo.classList.remove('invalido');
            } else {
                campo.classList.add('invalido');
                campo.classList.remove('valido');
            }
        }
        
        function salvarCadastro(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const dados = Object.fromEntries(formData.entries());
            
            // Validações específicas
            if (dados.senha !== dados.confirmarSenha) {
                mostrarMensagem('As senhas não coincidem!', 'erro');
                return false;
            }
            
            // Verificar se email já existe
            const usuarios = JSON.parse(localStorage.getItem('usuarios') || '[]');
            if (usuarios.find(u => u.email === dados.email)) {
                mostrarMensagem('Este email já está cadastrado!', 'erro');
                return false;
            }
            
            // Criar email @tribodocerrado.org baseado no apelido
            const emailTriboDoCerrado = dados.apelido.toLowerCase()
                .normalize('NFD')
                .replace(/[\u0300-\u036f]/g, '') // Remove acentos
                .replace(/[^a-z0-9]/g, '') + '@tribodocerrado.org';
            
            // Adicionar dados extras
            dados.dataCadastro = new Date().toISOString();
            dados.id = Date.now().toString();
            dados.ativo = true;
            dados.emailTriboDoCerrado = emailTriboDoCerrado;
            
            // Salvar no localStorage com encoding UTF-8 correto
            usuarios.push(dados);
            localStorage.setItem('usuarios', JSON.stringify(usuarios, null, 2));
            
            mostrarMensagem(`Cadastro realizado com sucesso! Bem-vindo(a), ${dados.apelido}! Seu email da Tribo: ${emailTriboDoCerrado}. Redirecionando para login...`, 'sucesso');
            
            // Limpar formulário
            event.target.reset();
            document.querySelectorAll('.form-input, .form-select, .form-textarea').forEach(input => {
                input.classList.remove('valido', 'invalido');
            });
            
            // Redirecionar para login após 4 segundos
            setTimeout(() => {
                window.location.href = 'login.html';
            }, 4000);
            
            return false;
        }
        
        function mostrarMensagem(texto, tipo) {
            const mensagem = document.getElementById('mensagem');
            mensagem.textContent = texto;
            mensagem.className = `mensagem ${tipo}`;
            mensagem.style.display = 'block';
            
            // Rolar para o topo para mostrar a mensagem
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            if (tipo === 'erro') {
                setTimeout(() => {
                    mensagem.style.display = 'none';
                }, 5000);
            }
        }
        
        // Permitir caracteres especiais nos campos de texto - CORRIGIDO UTF-8
        document.getElementById('nome').addEventListener('input', function(e) {
            // Permitir letras, espaços e acentos (incluindo ã, ç, etc.)
            this.value = this.value.replace(/[^A-Za-zÀ-ÿ\s]/g, '');
        });
        
        document.getElementById('apelido').addEventListener('input', function(e) {
            // Permitir letras, números, espaços e acentos (incluindo ã, ç, etc.)
            // CORRIGIDO: Agora aceita corretamente "Digão"
            this.value = this.value.replace(/[^A-Za-zÀ-ÿ0-9\s]/g, '');
        });
        
        document.getElementById('cidade').addEventListener('input', function(e) {
            // Permitir letras, espaços e acentos
            this.value = this.value.replace(/[^A-Za-zÀ-ÿ\s]/g, '');
        });
        
        // Debug: mostrar dados salvos no console
        console.log('Usuários cadastrados:', JSON.parse(localStorage.getItem('usuarios') || '[]'));
    </script>
</body>
</html>

