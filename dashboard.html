<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Tribo do Cerrado</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Orbitron', monospace;
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
            color: #ffffff;
            min-height: 100vh;
        }
        
        /* Header */
        .header {
            background: rgba(0, 0, 0, 0.9);
            border-bottom: 3px solid #FFD700;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(255, 215, 0, 0.3);
        }
        
        .logo-header {
            font-size: 1.8rem;
            font-weight: 900;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-name {
            color: #FFD700;
            font-weight: 700;
        }
        
        .logout-btn {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 68, 68, 0.4);
        }
        
        /* Container principal */
        .dashboard-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        /* Tabs */
        .tab-container {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .tab-button {
            background: linear-gradient(45deg, #333, #555);
            color: #ffffff;
            border: 2px solid #666;
            padding: 15px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 150px;
        }
        
        .tab-button:hover {
            background: linear-gradient(45deg, #555, #777);
            border-color: #FFD700;
            transform: translateY(-2px);
        }
        
        .tab-button.active {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #000000;
            border-color: #FFD700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
        }
        
        /* Conte√∫do das tabs */
        .tab-content {
            display: none;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #FFD700;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
        }
        
        .tab-content.active {
            display: block;
        }
        
        .tab-title {
            font-size: 2rem;
            color: #FFD700;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        /* Cards de estat√≠sticas */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(45deg, #1a1a1a, #2a2a2a);
            border: 2px solid #FFD700;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.3);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: #FFD700;
            display: block;
        }
        
        .stat-label {
            font-size: 1rem;
            color: #ffffff;
            margin-top: 10px;
        }
        
        /* Mensagens */
        .mensagem {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 700;
            display: none;
        }
        
        .mensagem.sucesso {
            background: rgba(0, 255, 0, 0.2);
            border: 2px solid #00ff00;
            color: #00ff00;
        }
        
        .mensagem.erro {
            background: rgba(255, 0, 0, 0.2);
            border: 2px solid #ff0000;
            color: #ff0000;
        }
        
        .mensagem.info {
            background: rgba(0, 123, 255, 0.2);
            border: 2px solid #007bff;
            color: #007bff;
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .tab-container {
                flex-direction: column;
            }
            
            .tab-button {
                min-width: auto;
            }
            
            .dashboard-container {
                padding: 20px 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo-header">üèçÔ∏è TRIBO DO CERRADO</div>
        <div class="user-info">
            <span class="user-name" id="nomeUsuario">Carregando...</span>
            <button class="logout-btn" onclick="logout()">üö™ SAIR</button>
        </div>
    </div>
    
    <!-- Container principal -->
    <div class="dashboard-container">
        <div id="mensagem" class="mensagem"></div>
        
        <!-- Tabs de navega√ß√£o -->
        <div class="tab-container">
            <button class="tab-button active" onclick="abrirTab('dashboard')">üìä DASHBOARD</button>
            <button class="tab-button" onclick="abrirTab('perfil')" id="tabPerfil">üë§ PERFIL</button>
            <button class="tab-button" onclick="abrirTab('eventos')">üìÖ EVENTOS</button>
            <button class="tab-button" onclick="abrirTab('email')">üìß EMAIL</button>
            <button class="tab-button" onclick="abrirTab('admin')" id="tabAdmin" style="display: none;">‚öôÔ∏è ADMINISTRADOR</button>
        </div>
        
        <!-- Conte√∫do Dashboard -->
        <div id="dashboard" class="tab-content active">
            <h2 class="tab-title">üìä DASHBOARD PRINCIPAL</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number" id="totalUsuarios">0</span>
                    <div class="stat-label">üë• Total de Usu√°rios</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="totalEventos">0</span>
                    <div class="stat-label">üìÖ Total de Eventos</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="eventosAtivos">0</span>
                    <div class="stat-label">üî• Eventos Ativos</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="proximosEventos">0</span>
                    <div class="stat-label">‚è∞ Pr√≥ximos Eventos</div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <h3 style="color: #FFD700; margin-bottom: 15px;">üéâ Bem-vindo ao Sistema!</h3>
                <p style="font-size: 1.1rem; line-height: 1.6;">
                    Sistema completamente reestruturado e funcionando!<br>
                    Navegue pelas abas para acessar todas as funcionalidades.
                </p>
            </div>
        </div>
        
        <!-- Conte√∫do Perfil -->
        <div id="perfil" class="tab-content">
            <h2 class="tab-title">üë§ MEU PERFIL</h2>
            <div style="text-align: center; margin-top: 50px;">
                <p style="font-size: 1.2rem; color: #FFD700;">üîß Funcionalidade de perfil em desenvolvimento</p>
                <p style="margin-top: 15px;">Em breve voc√™ poder√° editar seus dados pessoais aqui.</p>
            </div>
        </div>
        
        <!-- Conte√∫do Eventos -->
        <div id="eventos" class="tab-content">
            <h2 class="tab-title">üìÖ EVENTOS</h2>
            <div style="text-align: center; margin-top: 50px;">
                <p style="font-size: 1.2rem; color: #FFD700;">üîß Funcionalidade de eventos em desenvolvimento</p>
                <p style="margin-top: 15px;">Em breve voc√™ poder√° visualizar e se inscrever em eventos aqui.</p>
            </div>
        </div>
        
        <!-- Conte√∫do Email -->
        <div id="email" class="tab-content">
            <h2 class="tab-title">üìß SISTEMA DE EMAIL</h2>
            <div style="text-align: center; margin-top: 50px;">
                <p style="font-size: 1.2rem; color: #FFD700;">üîß Integra√ß√£o Migadu em desenvolvimento</p>
                <p style="margin-top: 15px;">Em breve voc√™ poder√° gerenciar emails aqui.</p>
            </div>
        </div>
        
        <!-- Conte√∫do Administrador -->
        <div id="admin" class="tab-content">
            <h2 class="tab-title">‚öôÔ∏è PAINEL ADMINISTRATIVO</h2>
            <div style="text-align: center; margin-top: 50px;">
                <p style="font-size: 1.2rem; color: #FFD700;">üëë Painel administrativo completo</p>
                <p style="margin-top: 15px;">Funcionalidades administrativas ser√£o implementadas aqui.</p>
            </div>
        </div>
    </div>
    
    <script>
        // SISTEMA DASHBOARD REESTRUTURADO
        console.log('üî• DASHBOARD REESTRUTURADO - TRIBO DO CERRADO');
        
        // Estado do sistema
        let usuarioAtual = null;
        let sistemaCarregado = false;
        
        // Verificar autentica√ß√£o
        function verificarAutenticacao() {
            console.log('üîê Verificando autentica√ß√£o...');
            
            const usuarioLogado = localStorage.getItem('usuarioLogado');
            
            if (!usuarioLogado) {
                console.log('‚ùå Usu√°rio n√£o autenticado, redirecionando...');
                mostrarMensagem('Sess√£o expirada. Redirecionando para login...', 'erro');
                setTimeout(() => {
                    window.location.href = 'login.html';
                }, 2000);
                return false;
            }
            
            try {
                usuarioAtual = JSON.parse(usuarioLogado);
                console.log('‚úÖ Usu√°rio autenticado:', usuarioAtual.email);
                return true;
            } catch (error) {
                console.error('‚ùå Erro ao parsear dados do usu√°rio:', error);
                localStorage.removeItem('usuarioLogado');
                window.location.href = 'login.html';
                return false;
            }
        }
        
        // Configurar interface baseada no usu√°rio
        function configurarInterface() {
            if (!usuarioAtual) return;
            
            console.log('üé® Configurando interface para:', usuarioAtual.tipo);
            
            // Atualizar nome do usu√°rio
            const nomeElement = document.getElementById('nomeUsuario');
            if (nomeElement) {
                nomeElement.textContent = usuarioAtual.nome || usuarioAtual.email;
            }
            
            // Mostrar tab de administrador se for admin
            if (usuarioAtual.tipo === 'administrador' || usuarioAtual.email === 'admin@tribodocerrado.org') {
                const tabAdmin = document.getElementById('tabAdmin');
                if (tabAdmin) {
                    tabAdmin.style.display = 'block';
                    console.log('üëë Tab de administrador habilitada');
                }
            }
        }
        
        // Carregar estat√≠sticas
        function carregarEstatisticas() {
            console.log('üìä Carregando estat√≠sticas...');
            
            // Dados simulados (em produ√ß√£o viriam do banco)
            const stats = {
                totalUsuarios: 1,
                totalEventos: 3,
                eventosAtivos: 2,
                proximosEventos: 1
            };
            
            // Atualizar elementos
            document.getElementById('totalUsuarios').textContent = stats.totalUsuarios;
            document.getElementById('totalEventos').textContent = stats.totalEventos;
            document.getElementById('eventosAtivos').textContent = stats.eventosAtivos;
            document.getElementById('proximosEventos').textContent = stats.proximosEventos;
            
            console.log('‚úÖ Estat√≠sticas carregadas');
        }
        
        // Fun√ß√£o para trocar tabs
        function abrirTab(tabName) {
            console.log('üìÇ Abrindo tab:', tabName);
            
            // Remover classe active de todos os bot√µes e conte√∫dos
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // Adicionar classe active ao bot√£o e conte√∫do selecionados
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }
        
        // Fun√ß√£o de logout
        function logout() {
            console.log('üö™ Fazendo logout...');
            
            // Limpar dados do localStorage
            localStorage.removeItem('usuarioLogado');
            localStorage.removeItem('loginTime');
            
            mostrarMensagem('Logout realizado com sucesso. Redirecionando...', 'sucesso');
            
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 2000);
        }
        
        // Fun√ß√£o para mostrar mensagens
        function mostrarMensagem(texto, tipo) {
            const mensagemDiv = document.getElementById('mensagem');
            mensagemDiv.textContent = texto;
            mensagemDiv.className = `mensagem ${tipo}`;
            mensagemDiv.style.display = 'block';
            
            // Auto-hide para mensagens de sucesso e erro
            if (tipo !== 'info') {
                setTimeout(() => {
                    mensagemDiv.style.display = 'none';
                }, 5000);
            }
        }
        
        // Inicializa√ß√£o do sistema
        function inicializarDashboard() {
            console.log('üöÄ Inicializando dashboard...');
            
            // Verificar autentica√ß√£o
            if (!verificarAutenticacao()) {
                return;
            }
            
            // Configurar interface
            configurarInterface();
            
            // Carregar dados
            carregarEstatisticas();
            
            sistemaCarregado = true;
            console.log('‚úÖ Dashboard carregado com sucesso');
            
            // Mostrar mensagem de boas-vindas
            mostrarMensagem(`Bem-vindo, ${usuarioAtual.nome}! Sistema funcionando perfeitamente.`, 'sucesso');
        }
        
        // Aguardar carregamento da p√°gina
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', inicializarDashboard);
        } else {
            inicializarDashboard();
        }
        
        // Expor fun√ß√µes globalmente
        window.abrirTab = abrirTab;
        window.logout = logout;
        
        console.log('üî• DASHBOARD REESTRUTURADO CARREGADO');
    </script>
</body>
</html>

